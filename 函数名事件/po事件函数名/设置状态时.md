```squirrel title:
function setState_po_ATPieceOfIceCore(obj, state, datas) {
	if (!obj) return;
	if (state == PIECE_OF_ICE_CORE_STATE_DAMAGE) {
		local ani = obj.getCurrentAnimation();

		local var = obj.getVar();
		if (ani) {
			local currentIndex = sq_GetVectorData(datas, 0) + 3;
			ani.setCurrentFrameWithChildLayer(currentIndex);
		}
		local timer = var.get_ct_vector(0);
		var.setInt(PIECE_OF_ICE_CORE_VAR_SHAKE_END_TIME, timer.Get() + 50);
		sq_SetMyShake(obj, 2, 80);
	}
	else if (state == PIECE_OF_ICE_CORE_STATE_END)

	{
		local ani = obj.getCurrentAnimation();
		if (ani) ani.setCurrentFrameWithChildLayer(10); // 마지막 프레임
	}
}
```


```squirrel title:得到传递过来的数据
sq_GetVectorData(datas, 0);
```