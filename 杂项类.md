

```squirrel title:
po特效
//得到角色
local chr = obj.getTopCharacter();
//如果角色不为null
if (chr) {
	local map = sq_GetMap(chr); //得到map
	if (map) {
		map.recalcAStarAttributesByMovableObject(obj, false);？
	}
}
```


```squirrel title:增加攻击对象，好像是设定我攻击到它了
local damager = sq_GetObject(parentObj, group, id);
local colObj = sq_GetCNRDObjectToCollisionObject(damager);
if (colObj && parentObj) sq_AddHitObject(obj, colObj);
local flashScreenObj = sq_var.getObject(POD_VAR_FLASHSCREEN);
if (flashScreenObj) { // 플래쉬 스크린 작동중이면 끔
	local pflashScreen = sq_GetCNRDObjectToFlashScreen(flashScreenObj);
	if (pflashScreen) pflashScreen.fadeOut();
}

local grabChr = sq_GetCNRDObjectToSQRCharacter(vObj);
if (grabChr) {
	local cmdChecker = grabChr.getCommandChecker();
	grabChr.initCommandChecker(cmdChecker, true); // 자신이 콘트롤하기 위해 커맨드체커 ai플래그 부분을 true로 바꿉니다.
	grabChr.setCommandChecker(cmdChecker);
	// 커맨트 체크에서 ai모드가 on인지 off인지 체크하는 플래그를 세팅하는 함수 입니다.
	cmdChecker.setAIMode(true);
	// 다음방으로 이용하기 위해 쓰인 플래그 입니다. 내가 ai가 콘트롤하는 오브젝트인지 체크하는 플래그 입니다 (irdsqrcharacter)
	grabChr.setAIModeByControlObject(true);
	local onlyAiChr = sq_GetCNRDObjectToAICharacter(grabChr);
	sq_SetTargetObjectAICharacter(onlyAiChr, null, false);
	local skillMgr = grabChr.getSkillManager();
	if (skillMgr) {
		skillMgr.setParent(grabChr);
		skillMgr.setCommandChecker(cmdChecker); // 스킬매니저와 커맨드체커를 연결
		local skillTree = grabChr.getCurrentSkillTree();
		skillMgr.addAllKeyCommand(skillTree);
		grabChr.flushCommandEnable();
	}
}
```



```squirrel title:被动增加伤害
sqrObj.sq_RemovePassiveSkillAttackBonusRate(SKILL_MANABURST);
sqrObj.sq_AddPassiveSkillAttackBonusRate(SKILL_MANABURST, SKL_LVL_COLUMN_IDX_1);
```


```squirrel title:技能密封
local skill = sq_GetSkill(parentChr, SKILL_TUNDRASOUL);
if (skill.isSealFunction())​
```

```squirrel title:
//开关 在skl里面写个这个就行了
[seal enable]
1
```