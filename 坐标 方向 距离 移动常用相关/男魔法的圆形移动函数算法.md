#圆形移动解刨



```squirrel title:
local currentT = sq_GetObjectTime(ani); //当前时间
local currentSpeedRate = 1.0; //额外计算的 速度率
local defaultRoundTime = 3000; //每隔多少秒转一圈
local radius = 100; //旋转半径 总长度 半径*2
local base100Angle = 18000; //初始角度 这里应该是角度*100 最大角度是360
```

```squirrel title:
local baseX = obj.getXPos() + 300; //初始x坐标
local baseZ = obj.getZPos() + 200; // 初始z坐标
```

```squirrel title:
local current100Angle = (base100Angle + (36000 * currentSpeedRate * currentT / defaultRoundTime)) % 36000; //根据当前时间跟总时间 跟初始角度计算出当前角度
local angle = (current100Angle.tofloat() / 100.0); //除以100 得到正常角度
local disMovLen = radius * sq_CosTable(angle.tointeger()); //根据角度计算圆形的长度
local mov_x = sq_GetDistancePos(baseX, sq_GetOppositeDirection(obj.getDirection()), disMovLen.tointeger()); //按照对象方向跟初始坐标得到 目标x坐标
local axisMagnifyRate = 100; //半径//圆形高度的比率
local upMovLen = radius * sq_SinTable(angle.tointeger()) * axisMagnifyRate / 100; //得到圆形的高度
local mov_y = baseZ + upMovLen.tointeger(); //得到要移动的y坐标
//下面的判断是
//移动的x坐标 不等于 初始x坐标减去100的话就移动x坐标 不过好像每什么用
if (mov_x != baseX - 100) sq_setCurrentAxisPos(ani, 0, mov_x);
sq_setCurrentAxisPos(ani, 2, mov_y);
```