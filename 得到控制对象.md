
```squirrel title:对象类
local objectManager = obj.getObjectManager(); //得到对象管理器
local objectNumber = objectManager.getCollisionObjectNumber(); //总数
for (local i = 0; i < objectNumber; i++) {
	local object = objectManager.getCollisionObject(i); //得到控制类对象
}
```


```squirrel title:遍历对象，判断是敌人，没死亡，可攻击到，在距离内
local xPos = obj.getXPos(); //x
local yPos = obj.getYPos(); //y
local zPos = obj.getZPos(); //z
local distance = obj.getVar().get_vector(2); //距離
local objectManager = obj.getObjectManager(); //得到對象管理器
for (local i = 0; i < objectManager.getCollisionObjectNumber(); i++) {
	local object = objectManager.getCollisionObject(i); //得到控制類對象
	if (object && object.isObjectType(OBJECTTYPE_ACTIVE) && obj.isEnemy(object) && object.isInDamagableState(obj) && sq_GetDistance(xPos, yPos, object.getXPos(), object.getYPos(), true) <= distance && sq_Abs(object.getZPos() - zPos) <= 300) {
		local activeObj = sq_GetCNRDObjectToActiveObject(object); //活動類
		//沒死亡
		if (!activeObj.isDead()) {
			sq_sendSetActiveStatusPacket(activeObj, obj, ACTIVESTATUS_STUN, stunProb.tofloat(), stunLevel, false, stunTime); //發送眩暈
		}
	}
}
```


```squirrel title:遍历对象-abs绝对值判断长方形距离
local direction = obj.getDirection(); //得到方向
local xPos = sq_GetDistancePos(obj.getXPos(), direction, 300); //得到方向的pos
local yPos = obj.getYPos(); //y
local zPos = obj.getZPos(); //z
local distanceX = 300; //X距離
local distanceY = 90; //Y距離
local distanceZ = 50; //Z距離
local objectManager = obj.getObjectManager(); //得到對象管理器
for (local i = 0; i < objectManager.getCollisionObjectNumber(); i++) {
	local object = objectManager.getCollisionObject(i); //得到控制類對象
	if (object && object.isObjectType(OBJECTTYPE_ACTIVE) && obj.isEnemy(object) && object.isInDamagableState(obj) && sq_Abs(object.getXPos() - xPos) <= distanceX && sq_Abs(object.getYPos() - yPos) <= distanceY && sq_Abs(object.getZPos() - zPos) <= distanceZ) {
		local activeObj = sq_GetCNRDObjectToActiveObject(object); //活動類
		//沒死亡
		if (!activeObj.isDead()) {
			sq_sendSetActiveStatusPacket(activeObj, obj, ACTIVESTATUS_STUN, stunProb.tofloat(), stunLevel, false, stunTime); //發送眩暈
		}
	}
}
```

```squirrel title:对象常量
OBJECTTYPE_OBJECT <- 0 //  顶层对象
OBJECTTYPE_COLLISION <- 1 //  冲突对象；（OBJECTTYPE_OBJECT的下层）
OBJECTTYPE_ACTIVE <- 17 //  能动的对象 (OBJECTTYPE_COLLISION 的下层)
OBJECTTYPE_CHARACTER <- 273 //  角色对象 (OBJECTTYPE_ACTIVE 的下层)
OBJECTTYPE_MONSTER <- 529 //  怪物对象 (OBJECTTYPE_ACTIVE 的下层)
OBJECTTYPE_RIDABLEOBJECT <- 4625 //  可以骑对象 (OBJECTTYPE_MONSTER 的下层)
OBJECTTYPE_PASSIVE <- 33 //  特效对象 (OBJECTTYPE_COLLISION 的下层)
OBJECTTYPE_ITEM <- 289 //  道具对象 (OBJECTTYPE_PASSIVE 的下层)
OBJECTTYPE_TRAP <- 545 //  트랩 오브젝트 (OBJECTTYPE_PASSIVE 하위)
OBJECTTYPE_BREAKABLE <- 1057 //  파괴 가능한 오브젝트(보물상자 겸함) (OBJECTTYPE_PASSIVE 하위)
OBJECTTYPE_PET <- 65 //  신수 (OBJCTTYPE_COLLISION 하위)
OBJECTTYPE_CREATURE <- 129 //  크리쳐 (OBJCTTYPE_COLLISION 하위)
OBJECTTYPE_DRAWONLY <- 2 //  그리기 전용 오브젝트 (OBJECTTYPE_OBJECT 하위)
OBJECTTYPE_VIRTUALCHARACTER <- 18 //  대기실에서 쓰는 가상 캐릭터 (OBJECTTYPE_DRAWONLY 하위)
OBJECTTYPE_NPC <- 34 //  대기실의 NPC (OBJECTTYPE_DRAWONLY 하위)
OBJECTTYPE_DONKEY <- 66 //  대기실의 개인상점 (OBJECTTYPE_DRAWONLY 하위)
OBJECTTYPE_VIRTUALCREATURE <- 130 //  대기실에서 쓰는 가상 크리쳐(OBJECTTYPE_DRAWONLY 하위)
OBJECTTYPE_DISJOINTSHOP <- 258 //  대기실의 해체가 해체 상점(OBJECTTYPE_DRAWONLY 하위)
OBJECTTYPE_VIRTUALMONSTER <- 514 //  대기실에서 쓰는 가상 몬스터 (OBJECTTYPE_DRAWONLEY 하위)
OBJECTTYPE_NONE_DELETE <- 1026 //  오브젝트 삭제 시 삭제되지 않는 오브젝트 (OBJECTTYPE_DRAWONLEY 하위)
OBJECTTYPE_DEFINE_END <- 61440
```